<!doctype html>
<!-- © 2025 DinnerMath — Calculator code and design are proprietary. Licensed for end-user viewing only via comesail.github.io. -->
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>DinnerMath — Cookies Quantity Calculator (Tenderloin ultratight)</title>
<meta name="description" content="How many cookies per person? Estimate total cookies to buy or bake, with optional pricing and quick presets.">
<style>
  :root{ --ink:#111827; --muted:#6b7280; --line:#e5e7eb; --bg:#ffffff; --card:#ffffff; }
  *{box-sizing:border-box}
  html,body{margin:0;padding:0}
  body{background:var(--bg);color:var(--ink);font-family:"Inter",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial}
  .wrap{max-width:740px;margin:0 auto;padding:clamp(8px,1.6vw,14px)}
  .dm-card{background:var(--card);border:1px solid var(--line);border-radius:0px;padding:10px;margin:8px 0;box-shadow:0 1px 0 rgba(17,24,39,.06),0 1px 2px rgba(17,24,39,.05)}
  h1{font-size:20px;margin:0 0 6px;text-align:center;font-weight:800}
  h2{font-size:16px;margin:10px 0 6px;text-align:center;font-weight:800}
  h3{font-size:15px;margin:0 0 6px;text-align:center;font-weight:800}
  .lede{color:var(--muted);margin:0 0 8px;text-align:center;font-weight:400;font-size:12.5px}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:6px}
  @media (max-width:820px){.row{grid-template-columns:1fr}}
  label{font-size:10.5px;color:#374151;display:block;margin:0 0 2px;font-weight:600;text-align:left}
  input[type="number"],select{width:100%;border:1px solid #d1d5db;border-radius:7px;padding:6px 8px;font-size:12.5px;line-height:1.2;background:#fff;color:var(--ink)}
  .muted{color:var(--muted);font-size:11px}
  .fine{font-size:12.5px;color:#374151;line-height:1.35}
  .inline{display:flex;align-items:center;gap:6px;flex-wrap:wrap}
  .divider{height:1px;background:var(--line);margin:8px 0}
  .btn{display:inline-block;border:1.5px solid var(--ink);border-radius:999px;padding:6px 10px;font-size:12.5px;font-weight:700;text-decoration:none;color:var(--ink);cursor:pointer;background:#fff}
  .btn:hover{background:#f3f4f6}
  .btn:focus-visible, .preset:focus-visible{outline:3px solid #94a3b8;outline-offset:2px}
  .pill{font-size:10px;border:1px solid #d1d5db;border-radius:999px;padding:2px 6px;color:#475569;background:#fff;text-decoration:none}
  .preset{border:2px solid var(--ink);background:#f8fafc;border-radius:999px;padding:5px 10px;font-size:13px;font-weight:800;cursor:pointer}
  .preset:hover{background:#eef2f7}
  .result{border:2px solid var(--ink);border-radius:0px;padding:10px;margin-top:6px;background:#fff}
  .result .big{font-size:24px;font-weight:800;line-height:1.2;color:var(--ink);font-variant-numeric:tabular-nums}
  .finder{padding:8px;border-radius:0px;border:2px solid var(--ink);background:#fff}
  .visually-hidden{position:absolute!important;clip:rect(1px,1px,1px,1px);clip-path:inset(50%);height:1px;width:1px;overflow:hidden;white-space:nowrap;border:0;padding:0;margin:-1px}
  [aria-label="Guests"]{display:flex;flex-wrap:wrap;gap:6px;align-items:flex-end}
  [aria-label="Guests"]>div{flex:0 0 auto}
  #adults,#teens,#kids{width:110px}
  [aria-label="Guests"]>div:nth-child(4){flex:1 1 240px;min-width:220px}
  .row-2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  @media (max-width:820px){ .row-2{grid-template-columns:1fr} }
  a, a:visited{color:var(--ink)}
</style>
</head>
<body class="ultra">
  <div class="wrap" id="cookies">

    <!-- Header -->
    <div class="dm-card" role="region" aria-label="Header">
      <h1>Cookies Quantity Calculator — How Many per Person</h1>
      <p class="lede">
        Enter guests and settings (or tap a quick preset). We will estimate how many <strong>cookies</strong> to buy or bake (planning estimate).
      </p>
    </div>

    <!-- Inputs -->
    <div class="dm-card" role="region" aria-label="Inputs">
      <h3>Inputs</h3>
      <div class="row" aria-label="Guests">
        <div><label for="adults">Adults</label><input id="adults" type="number" min="0" step="1" inputmode="numeric" value="10" autofocus></div>
        <div><label for="teens">Teens</label><input id="teens" type="number" min="0" step="1" inputmode="numeric" value="0"></div>
        <div><label for="kids">Children</label><input id="kids" type="number" min="0" step="1" inputmode="numeric" value="0"></div>
        <div>
          <label for="size">Cookie size</label>
          <select id="size">
            <option value="2.0" selected>Standard - about 2 per adult-equivalent</option>
            <option value="3.0">Mini - about 3 per adult-equivalent</option>
            <option value="1.2">Large - about 1.2 per adult-equivalent</option>
          </select>
        </div>
      </div>

      <div class="row" aria-label="Context">
        <div>
          <label for="appetite">Appetite</label>
          <select id="appetite">
            <option value="0.90">Light</option>
            <option value="1.00" selected>Typical</option>
            <option value="1.15">Sweet tooth</option>
          </select>
        </div>
        <div>
          <label for="length">Event length</label>
          <select id="length">
            <option value="0.95">Short - about 1 to 2 hours</option>
            <option value="1.00" selected>Standard - about 2 to 3 hours</option>
            <option value="1.05">Long - about 3 to 4 hours</option>
            <option value="1.10">Extended - about 4 to 5 hours</option>
          </select>
        </div>
        <div>
          <label for="leftovers">Add leftovers</label>
          <select id="leftovers">
            <option value="1" selected>No</option>
            <option value="1.07">+7%</option>
            <option value="1.12">+12%</option>
          </select>
        </div>
      </div>

      <div class="inline" style="margin-top:6px">
        <span class="muted">Quick presets:</span>
        <button class="preset" data-people="10" type="button">10</button>
        <button class="preset" data-people="25" type="button">25</button>
        <button class="preset" data-people="50" type="button">50</button>
        <button class="preset" data-people="100" type="button">100</button>
        <span class="muted">Presets set all as adults. Tweak Teens and Children if needed.</span>
        <div style="flex:1"></div>
        <button id="resetBtn" type="button" class="btn">Reset</button>
      </div>
    </div>

    <!-- Micro-summary -->
    <div class="muted" id="outMicro" style="margin:6px 0 0 0">-</div>

    <!-- Results -->
    <div class="dm-card" role="region" aria-label="Results" aria-live="polite" aria-atomic="true">
      <h3>Results (estimate)</h3>
      <div class="result">
        <div class="muted" aria-hidden="true">Estimated cookies to buy or bake</div>
        <div class="big" id="outPiecesBig" aria-label="No estimate yet">-</div>
        <div class="fine" id="outDozens">-</div>
        <div class="fine" id="outFrom">-</div>
        <div class="divider"></div>
        <div class="inline">
          <span class="pill" id="pillGuests">-</span>
          <span class="pill" id="pillSize">-</span>
          <span class="pill" id="pillPrice">pricing optional</span>
        </div>
      </div>
      <span id="outGuests" class="visually-hidden">-</span>

      <div class="row-2" style="margin-top:10px">
        <div class="dm-card" style="margin:0">
          <h3>Cost estimate</h3>
          <div class="inline">
            <div><label>Subtotal</label><div id="outSubtotal" class="fine">$-</div></div>
            <div><label>Tax and fees</label><div id="outAdds" class="fine">$-</div></div>
            <div><label>Estimated total</label><div id="outTotal" class="fine">$-</div></div>
            <div><label>Per person</label><div id="outPPP" class="fine">$-</div></div>
          </div>
        </div>
        <div class="dm-card finder" role="region" aria-label="Find near me" style="margin:0">
          <div class="inline">
            <a class="btn" href="#" onclick="try{window.open('https://www.google.com/maps/search/bakery+near+me','_blank');}catch(e){location.href='https://www.google.com/maps/search/bakery+near+me';}return false;">Find cookies near me</a>
            <a class="pill" href="#" onclick="try{window.open('https://www.google.com/maps/search/bakery','_blank');}catch(e){location.href='https://www.google.com/maps/search/bakery';}return false;">Bakeries</a>
            <a class="pill" href="#" onclick="try{window.open('https://www.google.com/maps/search/grocery+store','_blank');}catch(e){location.href='https://www.google.com/maps/search/grocery+store';}return false;">Grocery stores</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Pricing (optional) -->
    <div class="dm-card" role="region" aria-label="Pricing">
      <h3>Pricing (optional)</h3>
      <div class="row">
        <div><label for="priceDozen">Price per dozen (US dollars)</label><input id="priceDozen" type="number" min="0" step="0.01" inputmode="decimal" placeholder="e.g., 12.00"></div>
        <div><label for="taxPct">Sales tax (percent)</label><input id="taxPct" type="number" min="0" step="0.1" inputmode="decimal" placeholder="e.g., 7.5"></div>
        <div><label for="fees">Extra fees (US dollars)</label><input id="fees" type="number" min="0" step="0.01" inputmode="decimal" placeholder="e.g., 8.00"></div>
      </div>
      <div class="muted">Cost = dozens (rounded) x price per dozen + tax + extra fees.</div>
    </div>

  </div>

  <!-- Calculator logic (preserve original IDs & math; UI-only adjustments) -->
  <script>
  (function(){
    const $=s=>document.querySelector(s);
    const N=(sel,d=0)=>{const el=$(sel); if(!el) return d; const x=parseFloat(el.value); return isFinite(x)?x:d;};
    const TEEN=0.8, KID=0.6;
    const money=n=>(isFinite(n)&&n>=0)?"$"+n.toFixed(2):"$-";

    function piecesPerAE(){ return N('#size',2.0); }

    function compute(){
      const A=N('#adults',0), T=N('#teens',0), K=N('#kids',0);
      const AE = A + TEEN*T + KID*K;
      const perAE=piecesPerAE();
      const appetite=N('#appetite',1), length=N('#length',1), leftovers=N('#leftovers',1);
      const rawPieces = AE * perAE * appetite * length * leftovers;
      const pieces = Math.ceil(Math.max(0, rawPieces));
      const dozens = Math.ceil(pieces/12);
      return {A,T,K,AE,pieces,dozens};
    }

    function render(){
      // Select-all on focus for adults/teens/kids
      ['#adults','#teens','#kids'].forEach(s=>{
        const el=$(s); if(el && !el._dmSel){ el._dmSel=true; el.addEventListener('focus',()=>{ try{ el.select(); }catch(e){} }); }
      });

      const s=compute();

      // Big number & ARIA
      const piecesTxt = s.pieces>0 ? s.pieces.toLocaleString() + " cookies" : "-";
      const big = document.getElementById('outPiecesBig');
      big.textContent = piecesTxt;
      big.setAttribute('aria-label', s.pieces>0 ? ("Estimated cookies to buy or bake: " + s.pieces) : "No estimate yet");

      // Secondary lines
      document.getElementById('outDozens').textContent = s.pieces>0 ? ("about " + s.dozens + (s.dozens===1?" dozen":" dozens")) : "-";

      // Micro-summary and chips
      const sizeTxt = document.getElementById('size').selectedOptions[0].text.toLowerCase();
      const appetiteTxt = document.getElementById('appetite').selectedOptions[0].text.toLowerCase();
      const lengthTxt = document.getElementById('length').selectedOptions[0].text.toLowerCase();
      const leftTxt = document.getElementById('leftovers').selectedOptions[0].text.toLowerCase();

      document.getElementById('outMicro').textContent = (s.A+s.T+s.K)>0
        ? ((s.A+s.T+s.K) + " guests • " + sizeTxt + " • " + appetiteTxt + " appetite • " + lengthTxt + " • leftovers " + leftTxt)
        : "-";

      document.getElementById('outFrom').textContent = (s.A+s.T+s.K)>0
        ? ("Estimated from " + (s.A+s.T+s.K) + " guests - " + sizeTxt + ", " + appetiteTxt + " appetite, " + lengthTxt + ", leftovers " + leftTxt + ".")
        : "-";

      document.getElementById('outGuests').textContent = (s.A+s.T+s.K)>0 ? String(s.A+s.T+s.K) : "-";
      document.getElementById('pillGuests').textContent = (s.A+s.T+s.K)>0 ? ((s.A+s.T+s.K) + " guests total") : "-";
      document.getElementById('pillSize').textContent = (s.A+s.T+s.K)>0 ? sizeTxt : "-";

      // Pricing (optional)
      const priceDozen = N('#priceDozen',0);
      const taxPct = N('#taxPct',0)/100;
      const fees = N('#fees',0);
      const subtotal = (priceDozen>0 && s.dozens>0) ? s.dozens*priceDozen : 0;
      const adds = subtotal*taxPct + (fees>0?fees:0);
      const total = subtotal + adds;
      const guests = s.A+s.T+s.K;
      const ppp = (guests>0 && total>0) ? total/guests : NaN;

      document.getElementById('outSubtotal').textContent = subtotal>0 ? money(subtotal) : "$-";
      document.getElementById('outAdds').textContent     = subtotal>0 ? money(adds) : "$-";
      document.getElementById('outTotal').textContent    = subtotal>0 ? money(total) : "$-";
      document.getElementById('outPPP').textContent      = (subtotal>0 && guests>0) ? money(ppp) : "$-";
      document.getElementById('pillPrice').textContent   = (total>0 && guests>0) ? ("about " + money(ppp) + " per person") : "pricing optional";
    }

    // Listeners
    ['#adults','#teens','#kids','#size','#appetite','#length','#leftovers','#priceDozen','#taxPct','#fees'].forEach(sel=>{
      const el=$(sel); if(el){ el.addEventListener('input',render); el.addEventListener('change',render); }
    });

    // Presets
    document.querySelectorAll('.preset[data-people]').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const n=parseInt(btn.getAttribute('data-people'),10)||0;
        document.getElementById('adults').value=n;
        document.getElementById('teens').value=0;
        document.getElementById('kids').value=0;
        try{ document.getElementById('adults').focus({preventScroll:true}); document.getElementById('adults').select(); }catch(e){}
        render();
      });
    });

    // Reset
    document.getElementById('resetBtn').addEventListener('click',()=>{
      ['adults','teens','kids'].forEach((id,i)=>{
        document.getElementById(id).value = (id==='adults')?'10':'0';
      });
      document.getElementById('size').selectedIndex = 0;
      document.getElementById('appetite').value = '1.00';
      document.getElementById('length').value = '1.00';
      document.getElementById('leftovers').value = '1.00';
      ['priceDozen','taxPct','fees'].forEach(id=>{ const el=document.getElementById(id); if(el) el.value=''; });
      try{ document.getElementById('adults').focus({preventScroll:true}); document.getElementById('adults').select(); }catch(e){}
      render();
    });

    // Start
    const start = () => { 
      try{
        const A=document.getElementById('adults'), T=document.getElementById('teens'), K=document.getElementById('kids');
        if(A && (!A.value || A.value === "")) A.value = A.getAttribute('value') || "10";
        if(T && (!T.value || T.value === "")) T.value = T.getAttribute('value') || "0";
        if(K && (!K.value || K.value === "")) K.value = K.getAttribute('value') || "0";
      }catch(e){}
      try{ document.getElementById('adults').focus({preventScroll:true}); document.getElementById('adults').select(); }catch(e){}
      render(); 
    };
    if (document.readyState === "loading") document.addEventListener("DOMContentLoaded", start, {once:true});
    else start();
  })();
  </script>

  <div class="muted" style="text-align:center;margin:16px 0 0 0;">
    This tool provides general portion and cost estimates for planning only. Results depend on the information you enter and typical averages. DinnerMath is not responsible for decisions, purchases, or outcomes based on these estimates.<br>
    © 2025 DinnerMath. All rights reserved. Use for planning only.
  </div>
</body>
</html>
